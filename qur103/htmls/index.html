<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•™ìƒ ì¡° í¸ì„±ê¸° & ì—°êµ¬ ê³„íš</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            background-color: #111827;
            color: #e5e7eb;
            min-height: 100vh;
        }

        /* íƒ­ ë©”ë‰´ ìŠ¤íƒ€ì¼ */
        .tabs {
            display: flex;
            justify-content: center;
            width: 100%;
            max-width: 900px;
            margin-bottom: 20px;
            background-color: #1f2937;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        .tab-button {
            flex: 1;
            padding: 15px;
            font-size: 18px;
            font-weight: bold;
            color: #9ca3af;
            background-color: #1f2937;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            text-align: center;
        }
        .tab-button.active {
            background-color: #3498db;
            color: #fff;
        }
        .tab-button:not(.active):hover {
            background-color: #2b3543;
            color: #e5e7eb;
        }

        /* ì»¨í…Œì´ë„ˆ ë° ì„¹ì…˜ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .content-section {
            background-color: #1f2937;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 900px;
            padding: 40px;
            margin-bottom: 30px;
        }

        /* ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼ */
        button {
            display: block;
            width: 100%;
            padding: 15px;
            margin-top: 15px;
            background-color: #3498db;
            color: #fff;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            text-align: center;
            text-decoration: none;
        }
        button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }

        /* ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ */
        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 1px solid #4b5563;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 16px;
            background-color: #374151;
            color: #d1d5db;
            transition: border-color 0.3s;
        }
        input:focus, textarea:focus {
            border-color: #3498db;
            outline: none;
        }
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #9ca3af;
        }

        /* ê²°ê³¼ í‘œì‹œ ìŠ¤íƒ€ì¼ */
        .result-container {
            margin-top: 30px;
            border-top: 2px solid #374151;
            padding-top: 20px;
        }
        .team-list {
            list-style: none;
            padding: 0;
        }
        .team-item {
            background-color: #374151;
            margin-bottom: 10px;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1em;
            color: #e5e7eb;
        }
        
        /* ì„ í˜¸ë„ ì…ë ¥ UI ìŠ¤íƒ€ì¼ */
        .preference-group {
            margin-bottom: 1rem;
            padding: 1rem;
            border: 1px solid #374151;
            border-radius: 8px;
            background-color: #2b3543;
        }
        .preference-group h3 {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .preference-inputs {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .preference-inputs .preference-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .preference-inputs .preference-item label {
            margin-bottom: 0;
            flex-grow: 1;
        }
        .preference-inputs .preference-item input {
            width: 80px;
            text-align: center;
            margin-left: 10px;
        }
    </style>
</head>
<body>

<!-- íƒ­ ë©”ë‰´ -->
<div class="tabs">
    <button class="tab-button active" onclick="showTab('research')">ë¹„ë§¤ë„ˆ í–‰ìœ„ ì˜ˆì¸¡ ì—°êµ¬</button>
    <button class="tab-button" onclick="showTab('generator')">í•™ìƒ ì¡° í¸ì„±ê¸°</button>
</div>

<!-- ë¹„ë§¤ë„ˆ í–‰ìœ„ ì˜ˆì¸¡ ì—°êµ¬ ì„¹ì…˜ -->
<div class="content-section mx-auto" id="research-plan-view">
    <!-- í—¤ë” ì„¹ì…˜ (ë¡œê³  ë° íƒ€ì´í‹€) -->
    <header class="text-center py-8">
        <h1 class="text-4xl sm:text-5xl font-extrabold text-blue-400 mb-2">ê²Œì„ ì† ë¹„ë§¤ë„ˆ í–‰ìœ„ ì˜ˆì¸¡ ì—°êµ¬</h1>
        <p class="text-xl text-gray-400">ì™¸ì  ìš”ì†Œë¥¼ í™œìš©í•œ í–‰ë™ íŒ¨í„´ ë¶„ì„ ì—°êµ¬ ê³„íšì„œ</p>
    </header>

    <!-- ì—°êµ¬ ê°œìš” ì„¹ì…˜ -->
    <section class="bg-gray-800 p-6 sm:p-8 rounded-xl shadow-lg mb-8">
        <div class="flex items-center mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-400 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <h2 class="text-2xl font-bold text-gray-100">1. ì—°êµ¬ ë°°ê²½ ë° í•„ìš”ì„±</h2>
        </div>
        <p class="text-gray-300 leading-relaxed">
            ì˜¨ë¼ì¸ ê²Œì„ì´ ë³´í¸í™”ë˜ë©´ì„œ í”Œë ˆì´ì–´ ê°„ì˜ <strong>ë¹„ë§¤ë„ˆ í–‰ìœ„</strong>ëŠ” ê²Œì„ì˜ ì¬ë¯¸ë¥¼ ì €í•´í•˜ê³  ê±´ê°•í•œ ê²Œì„ ìƒíƒœê³„ë¥¼ íŒŒê´´í•˜ëŠ” ì‹¬ê°í•œ ë¬¸ì œë¡œ ëŒ€ë‘ë˜ì—ˆìŠµë‹ˆë‹¤. í˜„ì¬ ëŒ€ë¶€ë¶„ì˜ ê²Œì„ì‚¬ëŠ” ì‚¬í›„ ì‹ ê³  ë° ì œì¬ ì‹œìŠ¤í…œì„ ìš´ì˜í•˜ì§€ë§Œ, ì´ëŠ” ì´ë¯¸ ë°œìƒí•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë° ê·¸ì¹˜ë©° ê·¼ë³¸ì ì¸ ì˜ˆë°©ì—ëŠ” í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤. ë³¸ ì—°êµ¬ëŠ” <strong>ì™¸ì  ìš”ì†Œ</strong>ì™€ <strong>ë¹„ë§¤ë„ˆ í–‰ìœ„</strong> ê°„ì˜ <strong>ìƒê´€ê´€ê³„</strong>ë¥¼ ë¶„ì„í•˜ì—¬, ì ì¬ì ì¸ ë¹„ë§¤ë„ˆ í–‰ìœ„ìë¥¼ ì‚¬ì „ì— ì‹ë³„í•˜ê³  ì˜ˆì¸¡í•˜ëŠ” ì‹œìŠ¤í…œ ê°œë°œì˜ ê¸°ì´ˆë¥¼ ë§ˆë ¨í•˜ê³ ì í•©ë‹ˆë‹¤.
        </p>
    </section>

    <!-- ì—°êµ¬ ëª©í‘œ ë° ê°€ì„¤ ì„¹ì…˜ -->
    <section class="bg-gray-800 p-6 sm:p-8 rounded-xl shadow-lg mb-8">
        <div class="flex items-center mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-400 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 012 .988l-.893 2.572a2 2 0 01-1.258 1.489H11M14 10a2 2 0 11-4 0m4 0a2 2 0 10-4 0m-3 8a2 2 0 10-4 0m4 0a2 2 0 11-4 0m-2 5a2 2 0 11-4 0" />
            </svg>
            <h2 class="text-2xl font-bold text-gray-100">2. ì—°êµ¬ ëª©í‘œ ë° ê°€ì„¤</h2>
        </div>
        <p class="text-gray-300 leading-relaxed mb-4">
            ë³¸ ì—°êµ¬ì˜ ê¶ê·¹ì ì¸ ëª©í‘œëŠ” ê²Œì„ ë‚´ <strong>ì™¸ì  ìš”ì†Œ</strong>ì™€ í”Œë ˆì´ì–´ì˜ <strong>ë¹„ë§¤ë„ˆ í–‰ìœ„</strong> ë°œìƒ í™•ë¥  ì‚¬ì´ì˜ ìƒê´€ê´€ê³„ë¥¼ í†µê³„ì ìœ¼ë¡œ ë¶„ì„í•˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì˜ˆì¸¡ ëª¨ë¸ì˜ ê°œë°œ ê°€ëŠ¥ì„±ì„ íƒìƒ‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
        </p>
        <h3 class="text-xl font-semibold text-gray-100 mb-2">ì£¼ìš” ê°€ì„¤:</h3>
        <ul class="list-disc list-inside space-y-2 text-gray-400">
            <li><strong>ê°€ì„¤ 1 (ì‹œê°ì  ìš”ì†Œ):</strong> íŠ¹ì • ìºë¦­í„° ìŠ¤í‚¨ì´ë‚˜ ê³¼ì‹œì  ì„±ê²©ì´ ê°•í•œ ì¥ë¹„ëŠ” í”Œë ˆì´ì–´ì˜ ê³µê²©ì ì´ê³  ì¶©ë™ì ì¸ í–‰ë™ê³¼ ìœ ì˜ë¯¸í•œ ìƒê´€ê´€ê³„ë¥¼ ê°€ì§ˆ ê²ƒì´ë‹¤.</li>
            <li><strong>ê°€ì„¤ 2 (í”Œë ˆì´ ì‹œê°„ ë° íŒ¨í„´):</strong> íŠ¹ì • ì‹œê°„ëŒ€(ì˜ˆ: ì‹¬ì•¼ ì‹œê°„)ë‚˜ ëˆ„ì  í”Œë ˆì´ ì‹œê°„ì´ ë§ì€ ìœ ì €ëŠ” ë¹„ë§¤ë„ˆ í–‰ìœ„ ë¹ˆë„ì™€ ê´€ë ¨ì´ ìˆì„ ê²ƒì´ë‹¤.</li>
            <li><strong>ê°€ì„¤ 3 (ê²Œì„ ë‚´ ì„±ì·¨):</strong> ë­í¬ í‹°ì–´ê°€ ë‚®ì€ í”Œë ˆì´ì–´ì¼ìˆ˜ë¡ íŒ€ì›Œí¬ë¥¼ ë¬´ì‹œí•˜ê±°ë‚˜ ê³ ì˜ì ìœ¼ë¡œ íŒ¨ë°°ë¥¼ ìœ ë„í•˜ëŠ” ë¹„ë§¤ë„ˆ í–‰ìœ„ì˜ ê²½í–¥ì„±ì´ ë†’ì„ ê²ƒì´ë‹¤. ë°˜ë©´, ìƒìœ„ ë­í¬ì˜ í”Œë ˆì´ì–´ëŠ” íŒ€ ìŠ¹ë¦¬ì— ëŒ€í•œ ì••ë°•ê°ìœ¼ë¡œ ì¸í•´ ì–¸ì–´ í­ë ¥ì ì¸ ë¹„ë§¤ë„ˆë¥¼ ë” ë§ì´ ë³´ì¼ ìˆ˜ ìˆë‹¤.</li>
        </ul>
    </section>

    <!-- ì—°êµ¬ ë‚´ìš© ë° ë°©ë²• ì„¹ì…˜ -->
    <section class="bg-gray-800 p-6 sm:p-8 rounded-xl shadow-lg mb-8">
        <div class="flex items-center mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-400 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.835 5.864 9.387 5.765 8 6.253v13m4-13c1.165-.389 2.613-.29 4 .253v13m-4-13h-4m4 0h4m-9 1a.997.997 0 01-1 1H4a1 1 0 01-1-1v-1a1 1 0 011-1h2a1 1 0 011 1v1zm-2 5h-2a1 1 0 01-1-1v-1a1 1 0 011-1h2a1 1 0 011 1v1zm8-5h2a1 1 0 011 1v1a1 1 0 01-1 1h-2a1 1 0 01-1-1v-1zm-2 5a1 1 0 011-1h2a1 1 0 011 1v1a1 1 0 01-1 1h-2a1 1 0 01-1-1v-1zm6 0a1 1 0 011-1h2a1 1 0 011 1v1a1 1 0 01-1 1h-2a1 1 0 01-1-1v-1zm-2-5h2a1 1 0 011 1v1a1 1 0 01-1 1h-2a1 1 0 01-1-1v-1z" />
            </svg>
            <h2 class="text-2xl font-bold text-gray-100">3. ì—°êµ¬ ë‚´ìš© ë° ë°©ë²•</h2>
        </div>
        <p class="text-gray-300 leading-relaxed mb-4">
            ë³¸ ì—°êµ¬ëŠ” ë°ì´í„° ìˆ˜ì§‘ë¶€í„° ë¶„ì„, ëª¨ë¸ë§ì— ì´ë¥´ëŠ” ì²´ê³„ì ì¸ ê³¼ì •ì„ í†µí•´ ì§„í–‰ë©ë‹ˆë‹¤.
        </p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- ë°ì´í„° ìˆ˜ì§‘ ì¹´ë“œ -->
            <div class="bg-gray-700 p-6 rounded-xl shadow-inner border border-gray-600">
                <h3 class="text-xl font-semibold text-gray-100 mb-2">ë°ì´í„° ìˆ˜ì§‘</h3>
                <p class="text-gray-400 leading-relaxed mb-4">
                    ìµëª…í™”ëœ í”Œë ˆì´ì–´ í”„ë¡œí•„ ë°ì´í„°ì™€ ê²Œì„ ë‚´ í–‰ë™ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.
                </p>
                <ul class="list-disc list-inside space-y-1 text-gray-400">
                    <li><strong>í”Œë ˆì´ì–´ í”„ë¡œí•„:</strong> ë­í¬ í‹°ì–´, ë ˆë²¨, í”Œë ˆì´ ì‹œê°„, ì£¼ë ¥ ìºë¦­í„°, ìŠ¤í‚¨ ë“±</li>
                    <li><strong>í–‰ë™ ë°ì´í„°:</strong> ì‹ ê³  ê¸°ë¡, ì±„íŒ… ë¡œê·¸, AFK, ê³ ì˜ì  í”¼ë”© ë“±</li>
                </ul>
            </div>
            <!-- ë°ì´í„° ë¶„ì„ ë° ëª¨ë¸ë§ ì¹´ë“œ -->
            <div class="bg-gray-700 p-6 rounded-xl shadow-inner border border-gray-600">
                <h3 class="text-xl font-semibold text-gray-100 mb-2">ë¶„ì„ ë° ëª¨ë¸ë§</h3>
                <p class="text-gray-400 leading-relaxed mb-4">
                    ìˆ˜ì§‘ëœ ë°ì´í„°ë¥¼ í†µê³„ì ìœ¼ë¡œ ë¶„ì„í•˜ê³  ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ì„ êµ¬ì¶•í•©ë‹ˆë‹¤.
                </p>
                <ul class="list-disc list-inside space-y-1 text-gray-400">
                    <li><strong>ë¶„ì„ ë°©ë²•:</strong> ì¹´ì´ì œê³± ê²€ì •, ë‹¤ì¤‘ ë¡œì§€ìŠ¤í‹± íšŒê·€ ë¶„ì„ ë“±</li>
                    <li><strong>ëª¨ë¸ êµ¬ì¶•:</strong> ë¡œì§€ìŠ¤í‹± íšŒê·€, ëœë¤ í¬ë ˆìŠ¤íŠ¸, ì‹ ê²½ë§ ë“±</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- ê¸°ëŒ€ íš¨ê³¼ ë° í™œìš© ë°©ì•ˆ ì„¹ì…˜ -->
    <section class="bg-gray-800 p-6 sm:p-8 rounded-xl shadow-lg mb-8">
        <div class="flex items-center mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-400 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
            <h2 class="text-2xl font-bold text-gray-100">4. ê¸°ëŒ€ íš¨ê³¼ ë° í™œìš© ë°©ì•ˆ</h2>
        </div>
        <p class="text-gray-300 leading-relaxed mb-4">
            ë³¸ ì—°êµ¬ì˜ ê²°ê³¼ëŠ” ê²Œì„ ì»¤ë®¤ë‹ˆí‹°ì˜ ê±´ì „ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ê²ƒì…ë‹ˆë‹¤.
        </p>
        <ul class="space-y-4 text-gray-300">
            <li class="flex items-start">
                <span class="text-blue-400 font-bold mr-2 text-2xl">âœ“</span>
                <div>
                    <h3 class="font-semibold text-gray-100">ë¹„ë§¤ë„ˆ í–‰ìœ„ ì‚¬ì „ ì˜ˆë°©</h3>
                    <p class="text-sm text-gray-400">ì ì¬ì  ë¹„ë§¤ë„ˆ í–‰ìœ„ìë¥¼ ì‚¬ì „ì— ì˜ˆì¸¡í•˜ì—¬ ë§¤ì¹­ ì‹œìŠ¤í…œì—ì„œ ë¶„ë¦¬í•˜ê±°ë‚˜ ê²½ê³  ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ë“± ì˜ˆë°©ì  ì¡°ì¹˜ë¥¼ ì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>
            </li>
            <li class="flex items-start">
                <span class="text-blue-400 font-bold mr-2 text-2xl">âœ“</span>
                <div>
                    <h3 class="font-semibold text-gray-100">íš¨ìœ¨ì ì¸ ìš´ì˜ ì‹œìŠ¤í…œ</h3>
                    <p class="text-sm text-gray-400">AI ê¸°ë°˜ì˜ ìë™í™”ëœ ì˜ˆì¸¡ ì‹œìŠ¤í…œì€ ìš´ì˜ì§„ì˜ ìˆ˜ë™ì ì¸ ê°ì‹œ ì—…ë¬´ë¥¼ ì¤„ì—¬ ìš´ì˜ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.</p>
                </div>
            </li>
            <li class="flex items-start">
                <span class="text-blue-400 font-bold mr-2 text-2xl">âœ“</span>
                <div>
                    <h3 class="font-semibold text-gray-100">ê²Œì„ ë””ìì¸ ê°œì„ </h3>
                    <p class="text-sm text-gray-400">ì–´ë–¤ ìš”ì†Œê°€ í”Œë ˆì´ì–´ì˜ ê³µê²©ì„±ì„ ìœ ë°œí•˜ëŠ”ì§€ íŒŒì•…í•˜ì—¬, ë³´ë‹¤ ê¸ì •ì ì¸ í–‰ë™ì„ ìœ ë„í•˜ëŠ” ê²Œì„ ë””ìì¸ ë°©í–¥ì„ ì œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>
            </li>
        </ul>
    </section>
</div>

<!-- í•™ìƒ ì¡° í¸ì„±ê¸° ì„¹ì…˜ -->
<div class="content-section mx-auto hidden" id="team-generator-view">
    <h1 class="text-4xl font-bold text-center mb-8 text-blue-400">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ í•™ìƒ ì¡° í¸ì„±ê¸°</h1>
    <div class="input-group mb-6">
        <label for="students" class="block mb-2 text-gray-300">í•™ìƒ ì´ë¦„ (ì‰¼í‘œë¡œ êµ¬ë¶„):</label>
        <input type="text" id="students" class="w-full" placeholder="ì˜ˆ: Alice, Bob, Charlie">
    </div>

    <div class="input-group mb-6">
        <label for="group-size" class="block mb-2 text-gray-300">í•œ ì¡°ì˜ ì¸ì›ìˆ˜:</label>
        <input type="number" id="group-size" class="w-full" value="3" min="1">
    </div>
    
    <div id="preferences-container" class="mb-6">
        <!-- ì„ í˜¸ë„ ì…ë ¥ UIê°€ ë™ì ìœ¼ë¡œ ì¶”ê°€ë  ìœ„ì¹˜ -->
    </div>

    <button id="generate-button" class="w-full">ì¡° í¸ì„±í•˜ê¸°</button>

    <div class="result-container" id="result-container" style="display: none;">
        <h2 class="text-2xl font-semibold mb-4 text-gray-100">âœ… í¸ì„± ê²°ê³¼</h2>
        <ul class="team-list" id="team-results"></ul>
    </div>
</div>

<script>
    /**
     * íƒ­ì„ ì „í™˜í•˜ê³  í™œì„±í™”ëœ íƒ­ì„ í‘œì‹œí•©ë‹ˆë‹¤.
     * @param {string} tabName - 'research' ë˜ëŠ” 'generator'
     */
    function showTab(tabName) {
        const researchView = document.getElementById('research-plan-view');
        const generatorView = document.getElementById('team-generator-view');
        const researchButton = document.querySelector('.tab-button:nth-child(1)');
        const generatorButton = document.querySelector('.tab-button:nth-child(2)');

        if (tabName === 'research') {
            researchView.classList.remove('hidden');
            generatorView.classList.add('hidden');
            researchButton.classList.add('active');
            generatorButton.classList.remove('active');
        } else {
            researchView.classList.add('hidden');
            generatorView.classList.remove('hidden');
            researchButton.classList.remove('active');
            generatorButton.classList.add('active');
        }
    }

    /**
     * í•™ìƒ ì´ë¦„ ë°°ì—´ì„ ê¸°ë°˜ìœ¼ë¡œ ì„ í˜¸ë„ ì…ë ¥ UIë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.
     */
    function renderPreferenceInputs(students) {
        const container = document.getElementById('preferences-container');
        container.innerHTML = '';
        
        students.forEach(student => {
            const groupDiv = document.createElement('div');
            groupDiv.className = 'preference-group';
            
            const label = document.createElement('h3');
            label.className = 'text-blue-300';
            label.textContent = `${student}ì˜ ì„ í˜¸ë„ (1-10):`;
            
            const inputsDiv = document.createElement('div');
            inputsDiv.className = 'preference-inputs';

            // ëª¨ë“  í•™ìƒì„ ì˜µì…˜ìœ¼ë¡œ ì¶”ê°€ (ìê¸° ìì‹  ì œì™¸)
            students.filter(s => s !== student).forEach(optionStudent => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'preference-item';
                
                const itemLabel = document.createElement('label');
                itemLabel.textContent = optionStudent;

                const input = document.createElement('input');
                input.type = 'number';
                input.min = '1';
                input.max = '10';
                input.value = '5'; // ê¸°ë³¸ê°’ ì„¤ì • (ì¤‘ë¦½)
                input.setAttribute('data-student', student);
                input.setAttribute('data-for-student', optionStudent);
                
                itemDiv.appendChild(itemLabel);
                itemDiv.appendChild(input);
                inputsDiv.appendChild(itemDiv);
            });
            
            groupDiv.appendChild(label);
            groupDiv.appendChild(inputsDiv);
            container.appendChild(groupDiv);
        });
    }

    /**
     * ì„ í˜¸ë„ ì ìˆ˜ë¥¼ ê³ ë ¤í•˜ì—¬ í•™ìƒë“¤ì„ ì¡°ë¡œ í¸ì„±í•©ë‹ˆë‹¤.
     * @param {string[]} students - í•™ìƒ ì´ë¦„ ë°°ì—´
     * @param {number} groupSize - í•œ ì¡°ì˜ ì¸ì›ìˆ˜
     * @param {Object} preferences - { í•™ìƒ: { ë‹¤ë¥¸í•™ìƒ: ì ìˆ˜ } } í˜•íƒœì˜ ê°ì²´
     */
    function createTeamsWithPreferences(students, groupSize, preferences) {
        let remainingStudents = [...students];
        const teams = [];
        
        // ë¬´ì‘ìœ„ë¡œ í•™ìƒë“¤ì„ ì„ìŠµë‹ˆë‹¤.
        remainingStudents.sort(() => Math.random() - 0.5);

        while (remainingStudents.length > 0) {
            const currentTeam = [];
            const firstMember = remainingStudents.shift();
            currentTeam.push(firstMember);

            while (currentTeam.length < groupSize && remainingStudents.length > 0) {
                let bestMatch = null;
                let highestScore = -1;
                
                // ë‚¨ì€ í•™ìƒë“¤ ì¤‘ í˜„ì¬ ì¡°ì™€ ê°€ì¥ ë†’ì€ ì ìˆ˜ë¥¼ ê°€ì§„ í•™ìƒì„ ì°¾ìŠµë‹ˆë‹¤.
                remainingStudents.forEach(student => {
                    let compatibilityScore = 0;
                    
                    // í˜„ì¬ ì¡°ì›ë“¤ì´ ì´ í•™ìƒì—ê²Œ ì¤€ ì ìˆ˜ í•©ì‚°
                    currentTeam.forEach(member => {
                        compatibilityScore += preferences[member][student] || 0;
                    });

                    // ì´ í•™ìƒì´ í˜„ì¬ ì¡°ì›ë“¤ì—ê²Œ ì¤€ ì ìˆ˜ í•©ì‚°
                    compatibilityScore += preferences[student][currentTeam[0]] || 0;
                    
                    // ìµœê³  ì ìˆ˜ ê°±ì‹ 
                    if (compatibilityScore > highestScore) {
                        highestScore = compatibilityScore;
                        bestMatch = student;
                    }
                });

                if (bestMatch && highestScore > 0) {
                    // ì ìˆ˜ê°€ ë†’ì€ í•™ìƒì„ ì¡°ì— ì¶”ê°€
                    currentTeam.push(bestMatch);
                    remainingStudents = remainingStudents.filter(s => s !== bestMatch);
                } else {
                    // ì„ í˜¸ë„ê°€ 0ì´ê±°ë‚˜ ì—†ëŠ” ê²½ìš°, ë¬´ì‘ìœ„ë¡œ ì„ íƒ
                    const randomIndex = Math.floor(Math.random() * remainingStudents.length);
                    const randomMember = remainingStudents.splice(randomIndex, 1)[0];
                    currentTeam.push(randomMember);
                }
            }
            teams.push(currentTeam);
        }
        return teams;
    }

    // í•™ìƒ ì´ë¦„ ì…ë ¥ í•„ë“œì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
    document.getElementById('students').addEventListener('input', (e) => {
        const studentsInput = e.target.value;
        const students = studentsInput.split(',').map(s => s.trim()).filter(s => s);
        renderPreferenceInputs(students);
    });

    document.getElementById('generate-button').addEventListener('click', () => {
        const studentsInput = document.getElementById('students').value;
        const students = studentsInput.split(',').map(s => s.trim()).filter(s => s);
        
        const groupSize = parseInt(document.getElementById('group-size').value, 10);
        if (isNaN(groupSize) || groupSize <= 0) {
            // alertëŠ” ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ì‚¬ìš©ìì—ê²Œ ë©”ì‹œì§€ í‘œì‹œ
            console.error('ìœ íš¨í•œ ì¡° ì¸ì›ìˆ˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
        }

        const preferences = {};
        students.forEach(student => {
            preferences[student] = {};
        });

        document.querySelectorAll('.preference-inputs input').forEach(input => {
            const student = input.getAttribute('data-student');
            const forStudent = input.getAttribute('data-for-student');
            const score = parseInt(input.value, 10) || 0;
            if (score >= 1 && score <= 10) {
                 preferences[student][forStudent] = score;
            }
        });

        // ì¡° í¸ì„± í•¨ìˆ˜ ì‹¤í–‰
        const teams = createTeamsWithPreferences(students, groupSize, preferences);

        // ê²°ê³¼ í‘œì‹œ
        const teamResultsList = document.getElementById('team-results');
        teamResultsList.innerHTML = '';
        if (teams.length > 0) {
            teams.forEach((team, index) => {
                const teamItem = document.createElement('li');
                teamItem.className = 'team-item';
                teamItem.textContent = `Team ${index + 1}: ${team.join(', ')}`;
                teamResultsList.appendChild(teamItem);
            });
            document.getElementById('result-container').style.display = 'block';
        } else {
            teamResultsList.innerHTML = '<p class="text-gray-400">í¸ì„±í•  í•™ìƒì´ ì—†ìŠµë‹ˆë‹¤.</p>';
            document.getElementById('result-container').style.display = 'block';
        }
    });

    // í™”ë©´ ë¡œë“œ ì‹œ í•™ìƒ ì…ë ¥ë€ ì´ˆê¸°í™” ë° UI ìƒì„±
    document.addEventListener('DOMContentLoaded', () => {
        const initialStudents = document.getElementById('students').value.split(',').map(s => s.trim()).filter(s => s);
        renderPreferenceInputs(initialStudents);
        showTab('research'); // í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ë³¸ìœ¼ë¡œ ì—°êµ¬ ê³„íšì„œ íƒ­ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
    });
</script>

</body>
</html>
